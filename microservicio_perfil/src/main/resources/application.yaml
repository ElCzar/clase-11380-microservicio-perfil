# Application Configuration
spring:
    application:
        name: microservicio-perfil
    security:
        oauth2:
            resourceserver:
                jwt:
                    issuer-uri: http://keycloak:8180/realms/microservices-ecosystem
                    jwk-set-uri: http://keycloak:8180/realms/microservices-ecosystem/protocol/openid-connect/certs

# Server Configuration
server:
    port: 8081

# Eureka Client Configuration
eureka:
    client:
        service-url:
            defaultZone: http://10.43.103.229:8761/eureka/
        register-with-eureka: true
    instance:
        prefer-ip-address: true
        ip-address: 10.43.103.30
        non-secure-port: 8081
        instance-id: 10.43.103.30:8081
        hostname: 10.43.103.30

# Management endpoints configuration
management:
    endpoints:
        web:
            exposure:
                include: health,info,metrics
            base-path: /actuator
    endpoint:
        health:
            show-details: always
    health:
        defaults:
            enabled: true

# Keycloak Configuration
keycloak:
    realm: microservices-ecosystem
    auth-server-url: http://keycloak:8180
    ssl-required: none
    resource: perfil-service
    credentials:
        secret: XhzE490FVJwoJ3OdLlyyqpDyIaf1lgVe
    use-resource-role-mappings: true
    bearer-only: false 